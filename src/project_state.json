{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Project to ensure website form reliably sends client details to owner via WhatsApp; shift from click-to-chat (user must press Send) to automated message delivery.",
  "architectural_notes": [
    "Current click-to-chat approach depends on user action (opening WhatsApp and pressing Send); to guarantee delivery, use a server-side WhatsApp messaging provider (WhatsApp Business API via vendor such as Twilio/360dialog/etc.) and send messages on form submission."
  ],
  "known_issues": [
    "Form submission currently does not open a WhatsApp chat during testing, resulting in no message being delivered."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-update-the-contact-page-submission-flow-so-that-after-a-successful-contact-form-submission-a-whatsapp-chat-is-automatically-opened-in-a-new-tab-window-using-the-same-prefilled-message-currently-generated-by-formatcontactformmessage-and-sent-to-siteconfig-whatsapp-contactformnumber-keep-the-existing-post-success-whatsapp-button-as-a-fallback-if-the-popup-new-tab-is-blocked",
      "title": "Update the Contact page submission flow so that after a successful contact form submission, a WhatsApp chat is automatically opened (in a new tab/window) using the same prefilled message currently generated by `formatContactFormMessage(...)` and sent to `siteConfig.whatsapp.contactFormNumber`. Keep the existing post-success WhatsApp button as a fallback if the popup/new tab is blocked.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-automated-whatsapp-message-delivery-that-does-not-depend-on-the-visitor-pressing-send-in-whatsapp-by-adding-a-server-side-notification-step-when-a-contact-form-submission-is-created-the-backend-must-upon-submission-call-a-configurable-external-whatsapp-messaging-provider-e-g-whatsapp-business-api-provider-via-https-to-send-the-same-formatted-message-to-the-owner-operator-number-automatically",
      "title": "Implement automated WhatsApp message delivery that does not depend on the visitor pressing \"Send\" in WhatsApp by adding a server-side notification step when a contact form submission is created. The backend must, upon submission, call a configurable external WhatsApp messaging provider (e.g., WhatsApp Business API provider) via HTTPS to send the same formatted message to the owner/operator number automatically.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Implement automated WhatsApp message sending (server-side) so owner receives client details without user pressing Send (e.g., WhatsApp Business API provider)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Add backend/admin-safe observability for automated WhatsApp notifications by recording, per contact submission, whether an automated WhatsApp send was attempted and whether it succeeded (including a timestamp and a short status/error string). Expose this information only to admins when retrieving submissions.",
      "reqIds": [
        "REQ-3"
      ],
      "status": "pending"
    }
  ],
  "projectName": "Make contact form WhatsApp delivery automatic and ensure chat opens after submit",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}